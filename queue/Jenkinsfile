pipeline{
  agent {
    label 'master'
  }
  parameters {
    string(name: 'ListOfJobs', defaultValue: '', description: 'upstream jobs to run')
  }
  options {
    buildDiscarder(logRotator(numToKeepStr: '15', daysToKeepStr: '30'))
  }
  environment {
    BUILD_TRIGGER_BY = "${currentBuild.getBuildCauses()[0].userId}"
  }
  stages {
    stage('prep'){
      steps {
        script {
          def jobsParam = params.ListOfJobs
          echo "Jobs to run: ${jobsParam}"

        }
      }
    }
    stage('live run') {
      steps {
        script {
          echo "Live run for jobs: ${params.ListOfJobs}"
        }
      }
    }
    stage('staging run') {
      steps {
        script {
          echo "Staging run for jobs: ${params.ListOfJobs}"
        }
      }
    }
  }
}
